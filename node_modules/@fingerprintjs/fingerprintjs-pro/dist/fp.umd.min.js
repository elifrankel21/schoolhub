/**
 * FingerprintJS Pro v3.8.1 - Copyright (c) FingerprintJS, Inc, 2022 (https://fingerprint.com)
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FingerprintJS={})}(this,(function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}function r(e){var t=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var R=arguments[t],i=0,E=R.length;i<E;i++,o++)r[o]=R[i];return r}(e);return{current:function(){return t[0]},postpone:function(){var e=t.shift();void 0!==e&&t.push(e)},exclude:function(){t.shift()}}}function o(e){for(var t="",n=0;n<e.length;++n)if(n>0){var r=e[n].toLowerCase();r!==e[n]?t+=" "+r:t+=e[n]}else t+=e[n].toUpperCase();return t}var R={default:"endpoint"},i={default:"tlsEndpoint"},E="Client timeout",u="Network connection error",a="Network request aborted",O="Response cannot be parsed",_="Blocked by CSP",c=o("WrongRegion"),f=o("SubscriptionNotActive"),l=o("UnsupportedVersion"),s=o("InstallationMethodRestricted"),d=o("HostnameRestricted"),I=o("IntegrationFailed"),p="API key required",T="API key not found",N="API key expired",v="Request cannot be parsed",h="Request failed",A="Request failed to process",P="Too many requests, rate limit exceeded",S="Not available for this origin",y="Not available with restricted header",D=p,m=T,w=N,L="3.8.1",b="9319";function g(e,t){var n=[];return function(e,t){var n=5,o=r(e),R=(E=100,u=3e3,a=0,function(){return Math.random()*Math.min(u,E*Math.pow(2,a++))}),i=o.current();var E,u,a;if(void 0===i)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var O=function(e,r){return t(e).catch((function(e){if(r+1>=n)throw e;!function(e){if(!(e instanceof Error))return!1;var t=e.message;return t===_||t===b}(e)?o.postpone():o.exclude();var t,i=o.current();if(void 0===i)throw e;return(t=R(),new Promise((function(e){return setTimeout(e,t)}))).then((function(){return O(i,r+1)}))}))};return O(i,0)}(e,(function(e){var r=new Date,o=function(){return n.push({url:e,startedAt:r,finishedAt:new Date})},R=t(e);return R.then(o,o),R})).then((function(e){return[e,{attempts:n}]}))}var U="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",C=U,K="Failed to load the JS script of the agent";function M(e){var r;e.scriptUrlPattern;var o=e.token,R=e.apiKey,i=void 0===R?o:R,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["scriptUrlPattern","token","apiKey"]),u=null!==(r=n(e,"scriptUrlPattern"))&&void 0!==r?r:U;return Promise.resolve().then((function(){if(!i||"string"!=typeof i)throw new Error(p);return g(function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n(L):e}))}(String(e),t)}))}(u,i),F).catch(V)})).then((function(e){var n=e[0],r=e[1];return n.load(t(t({},E),{ldi:r}))}))}function F(e){return function(e,t,n,r){var o,R=document,i="securitypolicyviolation",E=function(t){var n=new URL(e,location.href),r=t.blockedURI;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(o=t,u())};R.addEventListener(i,E);var u=function(){return R.removeEventListener(i,E)};return null==r||r.then(u,u),Promise.resolve().then(t).then((function(e){return u(),e}),(function(e){return new Promise((function(e){return setTimeout(e)})).then((function(){if(u(),o)return n(o);throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){var r=document.createElement("script"),o=function(){var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},R=document.head||document.getElementsByTagName("head")[0];r.onload=function(){o(),t()},r.onerror=function(){o(),n(new Error(K))},r.async=!0,r.src=e,R.appendChild(r)}))}(e)}),(function(){throw new Error(_)})).then(B)}function B(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(b);return n}function V(e){throw e instanceof Error&&e.message===b?new Error(K):e}var j={load:M,defaultScriptUrlPattern:C,ERROR_SCRIPT_LOAD_FAIL:K,ERROR_API_KEY_EXPIRED:N,ERROR_API_KEY_INVALID:T,ERROR_API_KEY_MISSING:p,ERROR_BAD_REQUEST_FORMAT:v,ERROR_BAD_RESPONSE_FORMAT:O,ERROR_CLIENT_TIMEOUT:E,ERROR_CSP_BLOCK:_,ERROR_FORBIDDEN_ENDPOINT:d,ERROR_FORBIDDEN_HEADER:y,ERROR_FORBIDDEN_ORIGIN:S,ERROR_GENERAL_SERVER_FAILURE:h,ERROR_INSTALLATION_METHOD_RESTRICTED:s,ERROR_INTEGRATION_FAILURE:I,ERROR_NETWORK_ABORT:a,ERROR_NETWORK_CONNECTION:u,ERROR_RATE_LIMIT:P,ERROR_SERVER_TIMEOUT:A,ERROR_SUBSCRIPTION_NOT_ACTIVE:f,ERROR_TOKEN_EXPIRED:w,ERROR_TOKEN_INVALID:m,ERROR_TOKEN_MISSING:D,ERROR_UNSUPPORTED_VERSION:l,ERROR_WRONG_REGION:c,defaultEndpoint:R,defaultTlsEndpoint:i};e.ERROR_API_KEY_EXPIRED=N,e.ERROR_API_KEY_INVALID=T,e.ERROR_API_KEY_MISSING=p,e.ERROR_BAD_REQUEST_FORMAT=v,e.ERROR_BAD_RESPONSE_FORMAT=O,e.ERROR_CLIENT_TIMEOUT=E,e.ERROR_CSP_BLOCK=_,e.ERROR_FORBIDDEN_ENDPOINT=d,e.ERROR_FORBIDDEN_HEADER=y,e.ERROR_FORBIDDEN_ORIGIN=S,e.ERROR_GENERAL_SERVER_FAILURE=h,e.ERROR_INSTALLATION_METHOD_RESTRICTED=s,e.ERROR_INTEGRATION_FAILURE=I,e.ERROR_NETWORK_ABORT=a,e.ERROR_NETWORK_CONNECTION=u,e.ERROR_RATE_LIMIT=P,e.ERROR_SCRIPT_LOAD_FAIL=K,e.ERROR_SERVER_TIMEOUT=A,e.ERROR_SUBSCRIPTION_NOT_ACTIVE=f,e.ERROR_TOKEN_EXPIRED=w,e.ERROR_TOKEN_INVALID=m,e.ERROR_TOKEN_MISSING=D,e.ERROR_UNSUPPORTED_VERSION=l,e.ERROR_WRONG_REGION=c,e.default=j,e.defaultEndpoint=R,e.defaultScriptUrlPattern=C,e.defaultTlsEndpoint=i,e.load=M,Object.defineProperty(e,"__esModule",{value:!0})}));
